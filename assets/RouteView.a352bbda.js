import{d as N,f as g,r as p,c as l,b as r,j as V,k as S,u as e,a as w,H as a,B as C,F as f,I as D,o as s,p as T,l as A,J as O,_ as $}from"./index.e2d6e5b9.js";import{A as B,F as j}from"./FavoriteButton.b5e8f842.js";import{S as R}from"./StopsTable.77f2aae1.js";import{u as E}from"./transport-routes.6535fcb6.js";import{u as H}from"./transport-stops.19699ef3.js";const k=v=>(T("data-v-882aaf0c"),v=v(),A(),v),J={class:"route-view-header"},q={class:"route-view-header__title"},z={key:0,class:"route-view-header__direction-switcher"},G=["checked"],K=k(()=>r("br",null,null,-1)),L={key:0},M=k(()=>r("br",null,null,-1)),P={key:0},Q=k(()=>r("br",null,null,-1)),U=N({__name:"RouteView",setup(v){const u=D().params.routeNumber.toString(),{addOrRemoveRouteInFavorites:F,isRouteInFavorites:b,getRouteByNumber:I}=E(),{getStopByCode:y}=H(),x=g(()=>I(u)),h=p(),m=p(),c=p([]),i=p([]);B.getRouteScheme(u,!0).then(_=>{var t;h.value=_,c.value=(t=h.value)==null?void 0:t.stops.map(o=>y(o.code)).filter(o=>o!==void 0)}),B.getRouteScheme(u,!1).then(_=>{var t;m.value=_,i.value=(t=m.value)==null?void 0:t.stops.map(o=>y(o.code)).filter(o=>o!==void 0)});const n=p(!0),d=g(()=>c.value.length===0||i.value.length===0);return(_,t)=>(s(),l(f,null,[r("div",J,[r("h2",q,[V(" Route "+S(e(u))+" ",1),e(x)!==void 0?(s(),w(j,{key:0,"is-full":e(b)(e(u)),style:{margin:"5px"},onClick:t[0]||(t[0]=o=>e(F)(e(u)))},null,8,["is-full"])):a("",!0)]),e(d)?a("",!0):(s(),l("label",z,[C(r("input",{type:"checkbox",checked:n.value,onInput:t[1]||(t[1]=o=>n.value=!n.value)},null,40,G),[[O,!1]]),r("span",null,S(n.value?"\u2B07 Forward direction showed":"\u2B06 Backward direction showed"),1)]))]),K,h.value!==void 0&&c.value.length!==0&&(n.value||e(d))?(s(),l(f,{key:0},[e(d)?a("",!0):(s(),l("h3",L,"Forward:")),c.value.length!==0?(s(),w(R,{key:1,stops:c.value},null,8,["stops"])):a("",!0),M],64)):a("",!0),m.value!==void 0&&i.value.length!==0&&(!n.value||e(d))?(s(),l(f,{key:1},[e(d)?a("",!0):(s(),l("h3",P,"Backward:")),i.value.length!==0?(s(),w(R,{key:1,stops:i.value},null,8,["stops"])):a("",!0),Q],64)):a("",!0)],64))}});const oe=$(U,[["__scopeId","data-v-882aaf0c"]]);export{oe as default};
