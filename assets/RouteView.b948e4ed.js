import{d as I,f as S,r as _,c as a,b as u,j as N,t as w,u as e,a as k,h as s,z as V,F as y,y as A,o as t,p as C,k as T,A as O,_ as $}from"./index.8e262825.js";import{A as R,F as j}from"./FavoriteButton.45ae1062.js";import{S as B}from"./StopsTable.35f225ea.js";import{u as z}from"./transport-routes.9253e600.js";import{u as E}from"./transport-stops.dee0e955.js";const f=h=>(C("data-v-79c6437d"),h=h(),T(),h),q={class:"route-view-header"},G={class:"route-view-header__title"},H={key:0,class:"route-view-header__direction-switcher"},J=["checked"],K=f(()=>u("br",null,null,-1)),L={key:0},M={key:1},P=f(()=>u("br",null,null,-1)),Q={key:0},U={key:1},W=f(()=>u("br",null,null,-1)),X=I({__name:"RouteView",setup(h){const n=A().params.routeNumber.toString(),{addOrRemoveRouteInFavorites:F,isRouteInFavorites:b,getRouteByNumber:D}=z(),{getStopByCode:g}=E(),x=S(()=>D(n)),l=_(),c=_(),d=_([]),p=_([]);R.getRouteScheme(n,!0).then(m=>{var o;l.value=m,d.value=(o=l.value)==null?void 0:o.stops.map(r=>g(r.code)).filter(r=>r!==void 0)}),R.getRouteScheme(n,!1).then(m=>{var o;c.value=m,p.value=(o=c.value)==null?void 0:o.stops.map(r=>g(r.code)).filter(r=>r!==void 0)});const i=_(!0),v=S(()=>d.value.length===0||p.value.length===0);return(m,o)=>(t(),a(y,null,[u("div",q,[u("h2",G,[N(" Route "+w(e(n))+" ",1),e(x)!==void 0?(t(),k(j,{key:0,"is-full":e(b)(e(n)),style:{margin:"5px"},onClick:o[0]||(o[0]=r=>e(F)(e(n)))},null,8,["is-full"])):s("",!0)]),e(v)?s("",!0):(t(),a("label",H,[V(u("input",{type:"checkbox",checked:i.value,onInput:o[1]||(o[1]=r=>i.value=!i.value)},null,40,J),[[O,!1]]),u("span",null,w(i.value?"\u2B07 Forward direction showed":"\u2B06 Backward direction showed"),1)]))]),K,l.value!==void 0&&d.value.length!==0&&(i.value||e(v))?(t(),a(y,{key:0},[e(v)?s("",!0):(t(),a("h3",L,"Forward:")),l.value.directionDescription?(t(),a("div",M,w(l.value.directionDescription),1)):s("",!0),d.value.length!==0?(t(),k(B,{key:2,stops:d.value},null,8,["stops"])):s("",!0),P],64)):s("",!0),c.value!==void 0&&p.value.length!==0&&(!i.value||e(v))?(t(),a(y,{key:1},[e(v)?s("",!0):(t(),a("h3",Q,"Backward:")),c.value.directionDescription?(t(),a("div",U,w(c.value.directionDescription),1)):s("",!0),p.value.length!==0?(t(),k(B,{key:2,stops:p.value},null,8,["stops"])):s("",!0),W],64)):s("",!0)],64))}});const re=$(X,[["__scopeId","data-v-79c6437d"]]);export{re as default};
