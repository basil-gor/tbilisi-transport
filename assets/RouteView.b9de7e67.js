import{d as N,g,r as p,c as l,b as r,l as V,m as S,u as e,a as w,D as a,y as D,F as k,E as C,o as s,p as T,n as A,G as O,_ as E}from"./index.3adf3495.js";import{A as R,F as $}from"./FavoriteButton.36f4fa36.js";import{S as B}from"./StopsTable.202d1eaf.js";import{u as G}from"./transport-routes.41682643.js";import{u as j}from"./transport-stops.45c390a3.js";const y=v=>(T("data-v-2328a19e"),v=v(),A(),v),q={class:"route-view-header"},z={class:"route-view-header__title"},H={key:0,class:"route-view-header__direction-switcher"},J=["checked"],K=y(()=>r("br",null,null,-1)),L={key:0},M=y(()=>r("br",null,null,-1)),P={key:0},Q=y(()=>r("br",null,null,-1)),U=N({__name:"RouteView",setup(v){const u=C().params.routeNumber.toString(),{addOrRemoveRouteInFavorites:F,isRouteInFavorites:b,getRouteByNumber:x}=G(),{getStopByCode:f}=j(),I=g(()=>x(u)),h=p(),m=p(),c=p([]),i=p([]);R.getRouteScheme(u,!0).then(_=>{var t;h.value=_,c.value=(t=h.value)==null?void 0:t.stops.map(o=>f(o.code)).filter(o=>o!==void 0)}),R.getRouteScheme(u,!1).then(_=>{var t;m.value=_,i.value=(t=m.value)==null?void 0:t.stops.map(o=>f(o.code)).filter(o=>o!==void 0)});const n=p(!0),d=g(()=>c.value.length===0||i.value.length===0);return(_,t)=>(s(),l(k,null,[r("div",q,[r("h2",z,[V(" Route "+S(e(u))+" ",1),e(I)!==void 0?(s(),w($,{key:0,"is-full":e(b)(e(u)),style:{margin:"5px"},onClick:t[0]||(t[0]=o=>e(F)(e(u)))},null,8,["is-full"])):a("",!0)]),e(d)?a("",!0):(s(),l("label",H,[D(r("input",{type:"checkbox",checked:n.value,onInput:t[1]||(t[1]=o=>n.value=!n.value)},null,40,J),[[O,!1]]),r("span",null,S(n.value?"\u2B07 Forward direction showed":"\u2B06 Backward direction showed"),1)]))]),K,h.value!==void 0&&c.value.length!==0&&(n.value||e(d))?(s(),l(k,{key:0},[e(d)?a("",!0):(s(),l("h3",L,"Forward:")),c.value.length!==0?(s(),w(B,{key:1,stops:c.value},null,8,["stops"])):a("",!0),M],64)):a("",!0),m.value!==void 0&&i.value.length!==0&&(!n.value||e(d))?(s(),l(k,{key:1},[e(d)?a("",!0):(s(),l("h3",P,"Backward:")),i.value.length!==0?(s(),w(B,{key:1,stops:i.value},null,8,["stops"])):a("",!0),Q],64)):a("",!0)],64))}});const oe=E(U,[["__scopeId","data-v-2328a19e"]]);export{oe as default};
