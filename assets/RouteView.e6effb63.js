import{d as N,f as g,r as p,c as u,b as m,j as S,t as _,u as e,a as k,h as s,F as y,y as x,o as t}from"./index.14b61233.js";import{A as w,F as C}from"./FavoriteButton.a0e7bbaf.js";import{S as R}from"./StopsTable.7a27ec02.js";import{u as T}from"./transport-routes.275cb9fc.js";import{u as V}from"./transport-stops.0c2073fd.js";const A={key:0},I=["checked"],O=m("br",null,null,-1),$={key:0},j={key:1},E=m("br",null,null,-1),q={key:0},z={key:1},G=m("br",null,null,-1),U=N({__name:"RouteView",setup(H){const n=x().params.routeNumber.toString(),{addOrRemoveRouteInFavorites:b,isRouteInFavorites:B,getRouteByNumber:F}=T(),{getStopByCode:f}=V(),D=g(()=>F(n)),l=p(),i=p(),c=p([]),d=p([]);w.getRouteScheme(n,!0).then(h=>{var o;l.value=h,c.value=(o=l.value)==null?void 0:o.stops.map(r=>f(r.code)).filter(r=>r!==void 0)}),w.getRouteScheme(n,!1).then(h=>{var o;i.value=h,d.value=(o=i.value)==null?void 0:o.stops.map(r=>f(r.code)).filter(r=>r!==void 0)});const a=p(!0),v=g(()=>c.value.length===0||d.value.length===0);return(h,o)=>(t(),u(y,null,[m("h2",null,[S(" Route "+_(e(n))+" ",1),e(D)!==void 0?(t(),k(C,{key:0,"is-full":e(B)(e(n)),style:{margin:"5px"},onClick:o[0]||(o[0]=r=>e(b)(e(n)))},null,8,["is-full"])):s("",!0)]),e(v)?s("",!0):(t(),u("label",A,[m("input",{type:"checkbox",checked:a.value,onInput:o[1]||(o[1]=r=>a.value=!a.value)},null,40,I),S(" "+_((a.value,"Switch direction")),1)])),O,l.value!==void 0&&c.value.length!==0&&(a.value||e(v))?(t(),u(y,{key:1},[e(v)?s("",!0):(t(),u("h3",$,"Forward:")),l.value.directionDescription?(t(),u("div",j,_(l.value.directionDescription),1)):s("",!0),c.value.length!==0?(t(),k(R,{key:2,stops:c.value},null,8,["stops"])):s("",!0),E],64)):s("",!0),i.value!==void 0&&d.value.length!==0&&(!a.value||e(v))?(t(),u(y,{key:2},[e(v)?s("",!0):(t(),u("h3",q,"Backward:")),i.value.directionDescription?(t(),u("div",z,_(i.value.directionDescription),1)):s("",!0),d.value.length!==0?(t(),k(R,{key:2,stops:d.value},null,8,["stops"])):s("",!0),G],64)):s("",!0)],64))}});export{U as default};
