import{d as N,f as g,r as p,c as l,b as r,j as V,t as S,u as e,a as w,h as a,B as C,F as f,A,o as s,p as D,k as T,C as O,_ as $}from"./index.c54a4cb1.js";import{A as B,F as j}from"./FavoriteButton.5514f3e7.js";import{S as R}from"./StopsTable.4cf8e259.js";import{u as E}from"./transport-routes.acb8dabc.js";import{u as q}from"./transport-stops.a908844f.js";const k=v=>(D("data-v-882aaf0c"),v=v(),T(),v),z={class:"route-view-header"},G={class:"route-view-header__title"},H={key:0,class:"route-view-header__direction-switcher"},J=["checked"],K=k(()=>r("br",null,null,-1)),L={key:0},M=k(()=>r("br",null,null,-1)),P={key:0},Q=k(()=>r("br",null,null,-1)),U=N({__name:"RouteView",setup(v){const u=A().params.routeNumber.toString(),{addOrRemoveRouteInFavorites:F,isRouteInFavorites:b,getRouteByNumber:x}=E(),{getStopByCode:y}=q(),I=g(()=>x(u)),h=p(),m=p(),c=p([]),i=p([]);B.getRouteScheme(u,!0).then(_=>{var t;h.value=_,c.value=(t=h.value)==null?void 0:t.stops.map(o=>y(o.code)).filter(o=>o!==void 0)}),B.getRouteScheme(u,!1).then(_=>{var t;m.value=_,i.value=(t=m.value)==null?void 0:t.stops.map(o=>y(o.code)).filter(o=>o!==void 0)});const n=p(!0),d=g(()=>c.value.length===0||i.value.length===0);return(_,t)=>(s(),l(f,null,[r("div",z,[r("h2",G,[V(" Route "+S(e(u))+" ",1),e(I)!==void 0?(s(),w(j,{key:0,"is-full":e(b)(e(u)),style:{margin:"5px"},onClick:t[0]||(t[0]=o=>e(F)(e(u)))},null,8,["is-full"])):a("",!0)]),e(d)?a("",!0):(s(),l("label",H,[C(r("input",{type:"checkbox",checked:n.value,onInput:t[1]||(t[1]=o=>n.value=!n.value)},null,40,J),[[O,!1]]),r("span",null,S(n.value?"\u2B07 Forward direction showed":"\u2B06 Backward direction showed"),1)]))]),K,h.value!==void 0&&c.value.length!==0&&(n.value||e(d))?(s(),l(f,{key:0},[e(d)?a("",!0):(s(),l("h3",L,"Forward:")),c.value.length!==0?(s(),w(R,{key:1,stops:c.value},null,8,["stops"])):a("",!0),M],64)):a("",!0),m.value!==void 0&&i.value.length!==0&&(!n.value||e(d))?(s(),l(f,{key:1},[e(d)?a("",!0):(s(),l("h3",P,"Backward:")),i.value.length!==0?(s(),w(R,{key:1,stops:i.value},null,8,["stops"])):a("",!0),Q],64)):a("",!0)],64))}});const oe=$(U,[["__scopeId","data-v-882aaf0c"]]);export{oe as default};
